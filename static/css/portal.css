/**
 * portal.css - Enhanced Styles for Citizen Portal
 * -------------------------------------------------
 * This stylesheet contains all specific styles for the home.html template,
 * including the multi-step wizard, feature cards, forms, and real-time
 * analysis components. It inherits CSS variables from styles.css.
 */

/* Page-specific Body Background */
body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}
[data-theme="dark"] body {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
}

/* Dynamic Alert Banner */
.alert-banner {
    background: var(--alert-bg, linear-gradient(135deg, #f59e0b 0%, #d97706 100%));
    color: white;
    padding: 1rem;
    border-radius: var(--radius);
    margin-bottom: 1rem;
    display: none; /* Initially hidden */
    align-items: center;
    animation: slideDown 0.3s ease;
    box-shadow: var(--shadow);
}
.alert-banner.visible { display: flex; }
.alert-content { display: flex; align-items: center; gap: 1rem; width: 100%; }
.alert-icon { font-size: 1.5rem; flex-shrink: 0; }
.alert-text { flex-grow: 1; font-weight: 500; }
.alert-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; opacity: 0.7; transition: opacity 0.2s; padding: 0.25rem; border-radius: var(--radius); }
.alert-close:hover { opacity: 1; background: rgba(255,255,255,0.1); }
@keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

/* Navigation */
.nav-links { display: flex; gap: 0.5rem; align-items: center; flex-wrap: wrap; }
.nav-btn { padding: 0.5rem 0.75rem; border: none; border-radius: var(--radius); background: var(--primary-color); color: white; text-decoration: none; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.2s ease; display: inline-flex; align-items: center; gap: 0.25rem; }
.nav-btn:hover { background: var(--secondary-color); transform: translateY(-1px); }
.nav-btn.emergency { background: var(--danger-color); animation: pulse 2s infinite; }
.nav-btn.emergency:hover { background: #b91c1c; }
.nav-btn.active { background: var(--secondary-color); box-shadow: inset 0 2px 4px rgba(0,0,0,0.2); }

/* Step Indicator */
.step-indicator { padding: 1.5rem; margin-bottom: 2rem; backdrop-filter: blur(10px); }
.steps { display: flex; justify-content: space-between; align-items: center; position: relative; }
.step { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; flex: 1; position: relative; z-index: 2; }
.step-number { width: 40px; height: 40px; border-radius: 50%; background: var(--border-color); color: var(--text-secondary); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; transition: all 0.3s ease; }
.step.active .step-number { background: var(--primary-color); color: white; transform: scale(1.1); }
.step.completed .step-number { background: var(--accent-color); color: white; }
.step-label { font-size: 0.8rem; font-weight: 600; text-align: center; color: var(--text-secondary); }
.step.active .step-label { color: var(--primary-color); }
.step.completed .step-label { color: var(--accent-color); }
.progress-line { position: absolute; top: 20px; left: 0; right: 0; height: 2px; background: var(--border-color); z-index: 1; }
.progress-fill { height: 100%; background: var(--primary-color); transition: width 0.5s ease; border-radius: 1px; }

/* Main Content Area */
.content-section { display: none; }
.content-section.active { display: block; animation: fadeIn 0.5s ease; }

/* Welcome Section */
.welcome-hero { text-align: center; padding: 3rem 0; }
.hero-icon { font-size: 5rem; margin-bottom: 1rem; animation: bounce 2s infinite; }
.hero-title { font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem; background: linear-gradient(135deg, var(--primary-color), var(--danger-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.hero-subtitle { font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 2rem; }
.features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
.feature-card { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: 1.5rem; text-align: center; transition: all 0.3s ease; cursor: pointer; box-shadow: var(--shadow); }
.feature-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); border-color: var(--primary-color); }
.feature-icon { font-size: 3rem; margin-bottom: 1rem; display: block; }
.feature-title { font-weight: bold; color: var(--text-primary); margin-bottom: 0.5rem; }
.feature-description { font-size: 0.9rem; color: var(--text-secondary); }
.feature-card.risk-prediction { border-left: 4px solid #7c3aed; }
[data-theme="dark"] .feature-card.risk-prediction { background: linear-gradient(135deg, #2d1b69 0%, var(--bg-secondary) 100%); }

/* Form Elements */
.form-group { margin-bottom: 1.5rem; }
.form-label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-primary); }
.form-input { width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: var(--radius); font-size: 1rem; transition: all 0.2s ease; background: var(--bg-primary); color: var(--text-primary); box-sizing: border-box; }
.form-input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
.form-textarea { min-height: 120px; resize: vertical; }
.form-text { font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem; }

/* Method Selector */
.report-method-selector { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 2rem 0; }
.method-card { background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: var(--radius-lg); padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-sm); }
.method-card:hover { border-color: var(--primary-color); background: rgba(59, 130, 246, 0.05); transform: translateY(-2px); }
.method-card.selected { border-color: var(--primary-color); background: rgba(59, 130, 246, 0.1); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); }
.method-icon { font-size: 2.5rem; margin-bottom: 1rem; display: block; color: var(--primary-color); }
.method-title { font-weight: bold; margin-bottom: 0.5rem; color: var(--text-primary); }
.method-description { font-size: 0.85rem; color: var(--text-secondary); }

/* Voice Interface */
.voice-interface { display: flex; flex-direction: column; align-items: center; gap: 2rem; padding: 2rem 0; }
.record-button { width: 120px; height: 120px; border-radius: 50%; border: 4px solid var(--danger-color); background: var(--danger-color); color: white; font-size: 2rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; }
.record-button.recording { animation: pulse 1.5s infinite; }
.audio-recorder .btn { font-size: 0.9rem; padding: 0.5rem 1rem; }
.audio-playback { margin-top: 1rem; padding: 1rem; background: var(--bg-secondary); border-radius: var(--radius); border: 1px solid var(--border-color); display: flex; align-items: center; gap: 1rem; }
.audio-playback audio { width: 100%; }
.voice-status { text-align: center; font-size: 1.2rem; font-weight: 600; color: var(--text-primary); }
.transcript-box { background: var(--bg-secondary); border: 2px dashed var(--border-color); border-radius: var(--radius-lg); padding: 2rem; width: 100%; min-height: 120px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); font-style: italic; text-align: center; transition: all 0.3s ease; }
.transcript-box.active { border-color: var(--primary-color); background: rgba(59, 130, 246, 0.05); }

/* Navigation Buttons */
.navigation-buttons { display: flex; justify-content: space-between; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color); }
.btn { padding: 0.75rem 1.5rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-decoration: none; display: inline-flex; align-items: center; gap: 0.5rem; }
.btn-primary { background: var(--primary-color); color: white; }
.btn-primary:hover { background: var(--secondary-color); transform: translateY(-2px); }
.btn-secondary { background: var(--text-secondary); color: white; }
.btn-secondary:hover { background: #4b5563; }
.btn-success { background: var(--accent-color); color: white; }
.btn-success:hover { background: #15803d; transform: translateY(-2px); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }

/* Reports Grid */
.reports-grid { display: grid; gap: 1.5rem; margin: 2rem 0; }
.report-card { background: var(--bg-secondary); border: 1px solid var(--border-color); border-left: 4px solid var(--primary-color); border-radius: var(--radius); padding: 1.5rem; transition: all 0.3s ease; box-shadow: var(--shadow-sm); }
.report-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.report-card.critical { border-left-color: var(--danger-color); }
.report-card.high { border-left-color: var(--warning-color); }
.report-card.low { border-left-color: var(--accent-color); }
.report-card.medium { border-left-color: var(--primary-color); }
.report-status { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem; font-weight: bold; text-transform: uppercase; }
.status-pending { background: #fef3c7; color: #92400e; }
.status-processing { background: #dbeafe; color: #1e40af; }
.status-complete { background: #dcfce7; color: #166534; }
[data-theme="dark"] .status-pending { background: #92400e; color: #fef3c7; }
[data-theme="dark"] .status-processing { background: #1e40af; color: #dbeafe; }
[data-theme="dark"] .status-complete { background: #166534; color: #dcfce7; }

/* Emergency FAB */
.emergency-actions { position: fixed; bottom: 2rem; right: 2rem; z-index: 1000; }
.emergency-fab { width: 60px; height: 60px; border-radius: 50%; background: var(--danger-color); color: white; border: none; font-size: 1.5rem; cursor: pointer; box-shadow: var(--shadow-lg); transition: all 0.3s ease; animation: pulse 2s infinite; display: flex; align-items: center; justify-content: center; }
.emergency-fab:hover { transform: scale(1.1); animation: none; }

/* AI Confidence Meter */
.ai-confidence-meter { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 1rem; margin-top: 1rem; display: none; }
.ai-confidence-meter.visible { display: block; animation: fadeIn 0.3s ease; }
.confidence-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600; color: var(--text-primary); }
.confidence-bar { width: 100%; height: 8px; background: var(--border-color); border-radius: 4px; overflow: hidden; }
.confidence-fill { height: 100%; background: linear-gradient(90deg, #dc2626, #f59e0b, #16a34a); transition: width 0.8s ease; border-radius: 4px; }

/* PWA Install Button */
.install-app-btn { background: linear-gradient(135deg, #7c3aed, #a855f7); color: white; border: none; padding: 0.5rem 1rem; border-radius: var(--radius); font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-left: 0.5rem; }
.install-app-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4); }

/* Responsive Design */
@media (max-width: 768px) {
    .nav-links { flex-direction: column; gap: 0.5rem; }
    .nav-btn { width: 100%; justify-content: center; }
    .steps { flex-direction: column; gap: 1.5rem; align-items: flex-start; }
    .step { flex-direction: row; gap: 1rem; }
    .progress-line { display: none; }
    .features-grid, .report-method-selector { grid-template-columns: 1fr; }
    .hero-title { font-size: 2rem; }
    .record-button { width: 100px; height: 100px; }
    .main-content { padding: 1rem; }
    .navigation-buttons { flex-direction: column; gap: 1rem; }
    .btn { width: 100%; justify-content: center; }
    .emergency-fab { width: 50px; height: 50px; font-size: 1.2rem; bottom: 1rem; right: 1rem; }
    .alert-banner { flex-direction: column; text-align: center; }
    .alert-content { flex-direction: column; gap: 0.5rem; }
}

/* Animations */
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
@keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.8; transform: scale(1.05); } }